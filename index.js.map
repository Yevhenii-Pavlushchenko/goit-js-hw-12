{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api';\nconst API_KEY = '54685682-80977b0b5ca1319a1902ced87';\naxios.defaults.baseURL = BASE_URL;\n\nexport function request(query) {\n  return axios({\n    url: BASE_URL,\n    method: 'get',\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  })\n    .then(response => response.data)\n    .catch(error => console.log(error));\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nlet lightBox = null;\n\nexport function createGallery(images) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n            <li class=\"list-item\">\n                <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\" /></a>\n                <div class=\"list-content\">\n                    <div>\n                        <h2 class=\"likes\">Likes</h2>\n                        <p class=\"count-likes\">${likes}</p>\n                    </div>\n                    <div>\n                        <h2 class=\"views\">Views</h2>\n                        <p class=\"count-views\">${views}</p>\n                    </div>\n                    <div>\n                        <h2 class=\"comments\">Comments</h2>\n                        <p class=\"count-comments\">${comments}</p>\n                    </div>\n                    <div>\n                        <h2 class=\"downloads\">Downloads</h2>\n                        <p class=\"count-downloads\">${downloads}</p>\n                    </div>\n                </div>\n            </li>\n        `;\n      }\n    )\n    .join('');\n\n  gallery.innerHTML = markup;\n\n  if (lightBox) {\n    lightBox.refresh();\n  } else {\n    lightBox = new SimpleLightbox('.gallery a', {\n      captions: true,\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  }\n}\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\nexport function showLoader() {\n  document.querySelector('.loader')?.classList.remove('is-hidden');\n}\nexport function hideLoader() {\n  document.querySelector('.loader')?.classList.add('is-hidden');\n}\n","import { request } from './js/pixabay-api';\nimport { createGallery } from './js/render-functions';\nimport { clearGallery } from './js/render-functions';\nimport { showLoader } from './js/render-functions';\nimport { hideLoader } from './js/render-functions';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', onSubmitForm);\n\nfunction onSubmitForm(event) {\n  event.preventDefault();\n  const resInput = new FormData(form).get('search-text').trim();\n  if (resInput === '') {\n    iziToast.show({\n      message: 'Please enter a search query!',\n      backgroundColor: `#EF4040`,\n      messageColor: `#ffffff`,\n      position: `topRight`,\n      maxWidth: `432px`,\n    });\n\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  request(resInput)\n    .then(({ hits }) => {\n      if (!hits || hits.length === 0) {\n        iziToast.show({\n          message:\n            ' Sorry, there are no images matching your search query. Please try again!',\n          backgroundColor: `#EF4040`,\n          messageColor: `#ffffff`,\n          position: `topRight`,\n          maxWidth: `432px`,\n        });\n\n        return;\n      }\n      createGallery(hits);\n    })\n    .catch(error => {\n      console.log(error.message);\n      iziToast.show({\n        message:\n          'Sorry, but there was an error processing your request. Please try again.',\n        backgroundColor: `#EF4040`,\n        messageColor: `#ffffff`,\n        position: `topRight`,\n        maxWidth: `432px`,\n      });\n    })\n    .finally(() => {\n      hideLoader();\n      form.reset();\n    });\n}\n"],"names":["BASE_URL","API_KEY","axios","request","query","response","error","gallery","lightBox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","clearGallery","showLoader","_a","hideLoader","form","onSubmitForm","event","resInput","iziToast","hits"],"mappings":"owBAEA,MAAMA,EAAW,0BACXC,EAAU,qCAChBC,EAAM,SAAS,QAAUF,EAElB,SAASG,EAAQC,EAAO,CAC7B,OAAOF,EAAM,CACX,IAAKF,EACL,OAAQ,MACR,OAAQ,CACN,IAAKC,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,EACE,KAAKC,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CCjBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAClC,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,KAER,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,2BAEYL,CAAa,eAAeD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,iDAIhCC,CAAK;AAAA;AAAA;AAAA;AAAA,iDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,oDAIFC,CAAQ;AAAA;AAAA;AAAA;AAAA,qDAIPC,CAAS;AAAA;AAAA;AAAA;AAAA,SAMzD,EACA,KAAK,EAAE,EAEVX,EAAQ,UAAYI,EAEhBH,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIW,EAAe,aAAc,CAC1C,SAAU,GACV,aAAc,MACd,aAAc,GACpB,CAAK,CAEL,CACO,SAASC,GAAe,CAC7Bb,EAAQ,UAAY,EACtB,CACO,SAASc,GAAa,QAC3BC,EAAA,SAAS,cAAc,SAAS,IAAhC,MAAAA,EAAmC,UAAU,OAAO,YACtD,CACO,SAASC,GAAa,QAC3BD,EAAA,SAAS,cAAc,SAAS,IAAhC,MAAAA,EAAmC,UAAU,IAAI,YACnD,CC1DA,MAAME,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAW,IAAI,SAASH,CAAI,EAAE,IAAI,aAAa,EAAE,OACvD,GAAIG,IAAa,GAAI,CACnBC,EAAS,KAAK,CACZ,QAAS,+BACT,gBAAiB,UACjB,aAAc,UACd,SAAU,WACV,SAAU,OAChB,CAAK,EAED,MACD,CAEDR,IACAC,IAEAlB,EAAQwB,CAAQ,EACb,KAAK,CAAC,CAAE,KAAAE,KAAW,CAClB,GAAI,CAACA,GAAQA,EAAK,SAAW,EAAG,CAC9BD,EAAS,KAAK,CACZ,QACE,4EACF,gBAAiB,UACjB,aAAc,UACd,SAAU,WACV,SAAU,OACpB,CAAS,EAED,MACD,CACDnB,EAAcoB,CAAI,CACxB,CAAK,EACA,MAAMvB,GAAS,CACd,QAAQ,IAAIA,EAAM,OAAO,EACzBsB,EAAS,KAAK,CACZ,QACE,2EACF,gBAAiB,UACjB,aAAc,UACd,SAAU,WACV,SAAU,OAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbL,IACAC,EAAK,MAAK,CAChB,CAAK,CACL"}